{% extends "layout/base.html" %}
{% load gravatar %}
{% load enrollment %}
{% block title %}
{{course.code}} {{course.semester.name}} | {{site_name}}
{% endblock %}

{% block scripts %}
{{ block.super }}
<script type="text/javascript">
$(document).ready(function(){
  $("div#messages").fadeOut(3000)
})
</script>
{% endblock %}

{% block content %}
<div id="coursePage">
  <div class="container_12 clearfix">
    <div class="grid_12 alpha omega">
      <h1>{{course.code}}: {{course.name}} • {{course.semester.name}}</h1>
    </div>
  </div>

  <div class="container_12 clearfix">
    <div class="grid_2 alpha">
      <h2>Roster</h2>
      {{ course.get_instructors|roster_list:"instructorList" }}
      {{ course.get_students|roster_list:"studentList" }}
    </div>
    <div class="grid_7 alpha">
      <h2>Content</h2>
      <div class="links">
        {% for l in course.courselink_set.all %}
        <a href="{{l.url}}">
          {{ l.get_kind_display }}  → 
          {{ l.get_abbrev_url }}
        {% endfor %}
        </a>
      </div>
      <h2 class="break">Assessment</h2>

      {{summary}}
      <br />
      <div class="composite">
        <div class="composite">
          <div class="item droppable dropped">Quiz 1
            &nbsp;
            <span class="scores">30 &nbsp; /40 &nbsp; 75%</span>
            &nbsp;
            <a href="">statistics</a> &nbsp;
            <a href="">feedback</a>
          </div>
          <div class="item">Quiz 2
            &nbsp;
            <span class="scores">32 &nbsp; /40 &nbsp; 80%</span>
            &nbsp;
            <a href="">statistics</a> &nbsp;
            <a href="">feedback</a>
          </div>
          <div class="aggregate">Quizzes sum
            &nbsp;
            <span class="scores">32 &nbsp; /40 &nbsp; 80%</span>
            &nbsp;
            <input type="checkbox" checked="checked" /> drop lowest

          </div>
        </div>
        <div class="composite">
          <div class="item">Exam 1</div>
          <div class="item">Exam 2</div>
          <div class="aggregate">Exams sum</div>
        </div>
        <div class="item">Participation</div>
        <div class="aggregate">Total sum</div>
      </div>

    </div>
    <div class="grid_3 alpha">
      <h2>Preferences</h2>

      <form method="post" action="{{action}}">
        {{form.as_p}}
        <input type="submit" value="Save" />
      </form>

      {% if message %}
      <div id="messages">
        <p>{{ message }}</p>
      </div>
      {% endif %}

  </div>
</div>
{% endblock %}
